#!/bin/bash

# рдпрд╣ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╕рднреА Expo/Metro/Node рдХреИрд╢ рдХреЛ рд╕рд╛рдлрд╝ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╣реИред

echo "--- ЁЯз╣ Expo/Metro рдХреИрд╢ рдФрд░ рдмрд┐рд▓реНрдб рдлрд╝рд╛рдЗрд▓реЗрдВ рд╣рдЯрд╛рдирд╛ ---"

# 1. Watchman рдХреИрд╢ рдХреЛ рд╣рдЯрд╛рдПрдБ
if command -v watchman &> /dev/null
then
    echo "-> Watchman рдХреИрд╢ рд╣рдЯрд╛ рд░рд╣рд╛ рд╣реИ..."
    watchman watch-del-all
else
    echo "-> Watchman рдЗрдВрд╕реНрдЯреЙрд▓ рдирд╣реАрдВ рд╣реИред рдЫреЛрдбрд╝ рд░рд╣рд╛ рд╣реИред"
fi

# 2. Metro/Expo рдЕрд╕реНрдерд╛рдпреА рдХреИрд╢ рд╣рдЯрд╛рдПрдБ
echo "-> рдЕрд╕реНрдерд╛рдпреА Metro/Expo рдХреИрд╢ рд╣рдЯрд╛ рд░рд╣рд╛ рд╣реИ..."
rm -rf $TMPDIR/metro-*
rm -rf $TMPDIR/expo-*

# 3. Node/Babel рдХреИрд╢ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рд╣рдЯрд╛рдПрдБ
echo "-> Node.js рдФрд░ Babel рдХреИрд╢ рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рд╣рдЯрд╛ рд░рд╣рд╛ рд╣реИ..."
rm -rf node_modules/.cache/

# 4. Expo Web рдмрд┐рд▓реНрдб рдХреИрд╢ рд╣рдЯрд╛рдПрдБ
echo "-> Expo Web рдмрд┐рд▓реНрдб/рдПрд╕реЗрдЯ рдХреИрд╢ рд╣рдЯрд╛ рд░рд╣рд╛ рд╣реИ..."
rm -rf .expo/web/cache/

echo "--- тЬЕ рд╕рдлрд╝рд╛рдИ рдкреВрд░реА рд╣реБрдИ ---"